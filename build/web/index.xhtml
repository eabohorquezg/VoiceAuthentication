<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/jquery.jgrowl.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-jgrowl/1.4.1/jquery.jgrowl.min.js"></script>    
    
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <script language="javascript" src="js/functions.js"></script> 
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"></link>
    
    <h:head>
        <title>Voice Authentication</title>
    </h:head>
    <h:body>
        <div class="sidebar-tabs-menu-1">
            <label for="sidebar-tabs-menu-1-tab-1" class="tab">    
                <input type="radio" name="sidebar-tabs-menu-1-tab" id="sidebar-tabs-menu-1-tab-1" value="sidebar-tabs-menu-1-recent" class="display-none" />
                <div class="title">Iniciar Sesión</div>
                <div class="reveal">
                    <h:form>
                        <div class="lay-frame" align="center">
                            <div class="underlay">
                                <h2>Iniciar Sessión</h2>
                                <div>
                                    <p style="color: #fff;">Grabe su voz para autenticarse</p>
                                    <p style="color: #fff;">Ejemplo: "Soy Pedro"</p>
                                    <br></br>
                                    <h:commandButton  class="btn_login" action="#{user.processAuthenticationVoice()}" value="Grabar" onclick="cuentaRegresiva()" style="color: #fff; text-align: center;">
                                        <h:outputScript rendered="#{not empty user.script}">#{user.script}</h:outputScript>
                                    </h:commandButton>                     
                                    <br></br>
                                    <br></br>
                                    <b style="color:#fff"><h:outputText value="#{user.authenticationMessage}"/></b>
                                    
                                </div>
                            </div>
                        </div>
                    </h:form>
                </div>
            </label>

            <label for="sidebar-tabs-menu-1-tab-2" class="tab">    
                <input type="radio" name="sidebar-tabs-menu-1-tab" id="sidebar-tabs-menu-1-tab-2" value="sidebar-tabs-menu-1-popular" class="display-none" checked=""/>

                <div class="title not-first">Registrarse</div>
                <div class="reveal">
                    
                    <h:form>
                    <div class="lay-frame" align="center">
                        <div class="underlay">
                            <h2>Registrarse</h2>
                            <h:inputText id="name" value="#{user.name}" pt:placeholder="Nombre" 
                                         class="form-control"  required="true" 
                                         requiredMessage="¡El nombre es requerido!"/>
                            
                            
                            <h:inputText id="document" value="#{user.document}" pt:placeholder="Documento" 
                                         class="form-control" required="true" 
                                         requiredMessage="¡El documento es requerido!"/>
                            
                            
                            <h:inputText id="car" value="#{user.career}"  pt:placeholder="Carrera" 
                                         class="form-control" required="true" 
                                         requiredMessage="¡La carrera es requerida!"/>                     
                            <div>
                                <h:message style="color: red;" for="name"/><br></br>   
                                <h:message style="color: red;" for="document"/><br></br>
                                <h:message style="color: red;" for="car"/><br></br>
                            </div>
                            
                            <h:commandButton class="btn_login" action="#{user.recordPatternVoice()}" 
                                             value="Grabar"  onclick="cuentaRegresiva()"
                                             style="color: #fff; text-align: center;"/>    
                            
                            <h:commandButton class="btn_sign_up" action="#{user.createAccount()}" 
                                             value="Crear cuenta"/>              
                
                            <p><h:outputText value="#{user.voiceLogMessage}"/></p>
                            <p><h:outputText value="#{user.accountCreationMessage}"/></p> 
                        </div>
                    </div>
                    </h:form>    
                </div>
            </label>
        </div>
        <form name="fcuentareg">
            <input type="text" name="tiempoact" style="visibility:hidden"></input>
        </form>
    </h:body>
</html> 

